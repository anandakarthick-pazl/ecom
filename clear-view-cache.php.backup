<?php
/**
 * Clear Laravel View Cache Script
 * This script clears all cached Blade view files
 */

$viewCachePath = __DIR__ . '/storage/framework/views';

if (!is_dir($viewCachePath)) {
    echo "View cache directory not found: $viewCachePath\n";
    exit(1);
}

echo "Clearing Laravel view cache...\n";

$files = glob($viewCachePath . '/*.php');
$deletedCount = 0;

foreach ($files as $file) {
    if (basename($file) !== '.gitignore') {
        if (unlink($file)) {
            $deletedCount++;
        } else {
            echo "Failed to delete: " . basename($file) . "\n";
        }
    }
}

echo "Successfully deleted $deletedCount cached view files.\n";
echo "Laravel will regenerate the cache on next page load.\n";
echo "Done!\n";
